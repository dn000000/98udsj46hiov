"""
@file dwarf.py
@brief Класс расы Гном.

@details
Реализация расы Гном с особенностями передвижения по различным типам местности.
Гномы получают значительный бонус в горах, пещерах и на холмах, но замедляются в
болотах и лесах.
"""

from .race import Race
from src.hex.hex_terrain_type import HexTerrainType


class Dwarf(Race):
    """
    @brief Класс представляющий расу Гном.
    
    @details
    Гномы - приземистая, сильная подземная раса, искусная в добыче и обработке камня.
    Они получают значительный бонус при передвижении по горам, холмам и в пещерах,
    но менее приспособлены к болотистой местности и густым лесам.
    """
    
    # Имя расы
    name = "Гном"
    
    # Описание расовых особенностей
    description = """
    Гномы - выносливая подземная раса. Они получают значительный бонус в горах, 
    холмах и пещерах (-50% к стоимости передвижения), но медленнее передвигаются 
    в болотах, лесах и по воде.
    """
    
    # Модификаторы стоимости прохода для разных типов местности
    terrain_modifiers = {
        HexTerrainType.ROAD: 0.8,     # По дорогам гномы двигаются быстрее обычного
        HexTerrainType.GRASS: 1.0,    # По равнинам - обычная скорость
        HexTerrainType.FOREST: 1.3,   # В лесах замедляются
        HexTerrainType.HILLS: 0.6,    # На холмах значительный бонус
        HexTerrainType.MOUNTAIN: 0.5,  # В горах получают большой бонус
        HexTerrainType.WATER: float('inf'),  # Вода непроходима (гномы не умеют плавать)
        HexTerrainType.SWAMP: 1.5,    # В болотах значительно замедляются
        HexTerrainType.DESERT: 1.2,   # В пустыне замедляются
        HexTerrainType.SNOW: 1.1,     # В снегу небольшое замедление
        HexTerrainType.LAVA: float('inf'),   # Лава непроходима
        HexTerrainType.CASTLE: 0.9,   # В замках небольшой бонус (каменные структуры)
        HexTerrainType.VILLAGE: 1.0,  # В деревнях - обычная скорость
        HexTerrainType.CAVE: 0.5,     # В пещерах значительный бонус
        HexTerrainType.WALL: float('inf'),  # Стены непроходимы (без специальных способностей)
        HexTerrainType.START: 1.0,    # Стартовая позиция - обычная скорость
        HexTerrainType.END: 1.0       # Конечная позиция - обычная скорость
    } 